# Python pre-commit hooks configuration

repos:
  # Python code formatting
  - repo: https://github.com/psf/black
    rev: 23.12.1
    hooks:
      - id: black
        language_version: python3
        args: [--line-length=88]

  # Python import sorting
  - repo: https://github.com/pycqa/isort
    rev: 5.13.2
    hooks:
      - id: isort
        args: [--profile=black, --line-length=88]

  # Python linting
  - repo: https://github.com/pycqa/flake8
    rev: 7.0.0
    hooks:
      - id: flake8
        args: [--max-line-length=88, --extend-ignore=E203,W503]

  # Python security linting
  - repo: https://github.com/pycqa/bandit
    rev: 1.7.5
    hooks:
      - id: bandit
        args: [-r, ., -f, json, -o, bandit-report.json]
        exclude: ^tests/

  # Python dependency security
  - repo: https://github.com/pyupio/safety
    rev: 2.3.5
    hooks:
      - id: safety
        args: [--json, --output, safety-report.json]

  # MyPy type checking
  - repo: https://github.com/pre-commit/mirrors-mypy
    rev: v1.8.0
    hooks:
      - id: mypy
        additional_dependencies: [types-all]

  # Pylint
  - repo: local
    hooks:
      - id: pylint
        name: Pylint
        entry: pylint
        language: system
        files: \.py$
        args: [--rcfile=.pylintrc]

  # Python tests
  - repo: local
    hooks:
      - id: pytest
        name: Pytest
        entry: python -m pytest
        language: system
        files: \.(test|spec)\.py$
        pass_filenames: false
        always_run: false

  # Requirements validation
  - repo: local
    hooks:
      - id: requirements-validate
        name: Requirements validation
        entry: pip check
        language: system
        files: requirements.*\.txt$
        pass_filenames: false

  # Python package validation
  - repo: local
    hooks:
      - id: setup-py-validate
        name: Setup.py validation
        entry: python setup.py check
        language: system
        files: setup\.py$
        pass_filenames: false 